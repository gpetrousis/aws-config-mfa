# AWS Config MFA
*Alpha version*

![GitHub](https://img.shields.io/github/license/gpetrousis/foodjammingui.svg)

An aws configure wrapper tha adds support for MFA protected profiles.

When adding a profile, the wrapper will add a new entry in the credentials and config files
that are generated by `aws configure`. If an MFA device is specified, the profile will have
`-mfa` suffix. When requesting a session through the wrapper, a new profile will be created
using the credentials from `aws get-session-token` without the `-mfa` suffix, including 
a session token and an expiration date.
NOTE: This might lead to overwritting existing profiles.

## Requirements
- Python3.6
- boto3

## Usagej
`aws-config-mfa add --profile <profile_name>`

`aws-config auth-mfa --profile <profile_name> --mfa <mfa_pin>`

`aws-config --help`

## Future improvements
- Do not request new token if the current one is not expired. Support force token update.
- Add default values to the --help command.
- Make --mfa mandatory or add it as a prompt.
- Add update profile support
- Use petpass for credentials
- Move prompts to the same line as the text.
- Update profile as an object and not as separate values.
- Add support to add non-mfa config profiles
- Add token ttl argument
- Handle exceptions

## Licence MIT